#ifndef DISPLAYMANAGER_H
#define DISPLAYMANAGER_H

#include <TFT_eSPI.h>
#include "StateManager.h"


class DisplayManager {
    public:
        DisplayManager(StateManager& stateManager);

        void initDisplay();
        void updateScreenData();
    
    private: 
        TFT_eSPI m_tft;
        StateManager& m_stateManager;
        int m_displayWidth;
        int m_displayHeight;
};


// ICONS
// https://github.com/Bodmer/TFT_eSPI/blob/master/examples/Generic/drawXBitmap/drawXBitmap.ino

#define DOOR_OPEN_ICON_WIDTH 20
#define DOOR_OPEN_ICON_HEIGHT 25
PROGMEM const unsigned char DOOR_OPEN_ICON_BITS[] = {
  0x00, 0x07, 0x00, 0x80, 0x7F, 0x00, 0xBE, 0xFF, 0x07, 0xBF, 0xFF, 0x0F, 
  0x83, 0xFF, 0x0F, 0x83, 0xFF, 0x0F, 0x83, 0xFF, 0x0F, 0x83, 0xFF, 0x0F, 
  0x83, 0xFF, 0x0F, 0x83, 0xFF, 0x0F, 0x83, 0xFF, 0x0F, 0x83, 0xF3, 0x0F, 
  0x83, 0xF3, 0x0F, 0x83, 0xFF, 0x0F, 0x83, 0xFF, 0x0F, 0x83, 0xFF, 0x0F, 
  0x83, 0xFF, 0x0F, 0x83, 0xFF, 0x0F, 0x83, 0xFF, 0x0F, 0x83, 0xFF, 0x0F, 
  0x83, 0xFF, 0x0F, 0xBF, 0xFF, 0x0F, 0xBE, 0xFF, 0x07, 0x80, 0x7F, 0x00, 
  0x00, 0x07, 0x00, };


#define DOOR_CLOSED_ICON_WIDTH 20
#define DOOR_CLOSED_ICON_HEIGHT 25
PROGMEM const unsigned char DOOR_CLOSED_ICON_BITS[] = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xFE, 0xFF, 0x07, 0xFE, 0xFF, 0x07, 
  0xFE, 0xFF, 0x07, 0xFE, 0xFF, 0x07, 0xFE, 0xFF, 0x07, 0xFE, 0xFF, 0x07, 
  0xFE, 0xFF, 0x07, 0xFE, 0xFF, 0x07, 0xFE, 0xFF, 0x07, 0x9E, 0xFF, 0x07, 
  0x9E, 0xFF, 0x07, 0xFE, 0xFF, 0x07, 0xFE, 0xFF, 0x07, 0xFE, 0xFF, 0x07, 
  0xFE, 0xFF, 0x07, 0xFE, 0xFF, 0x07, 0xFE, 0xFF, 0x07, 0xFE, 0xFF, 0x07, 
  0xFE, 0xFF, 0x07, 0xFE, 0xFF, 0x07, 0xFE, 0xFF, 0x07, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, };


#define WINDOW_OPEN_ICON_WIDTH 28
#define WINDOW_OPEN_ICON_HEIGHT 25
PROGMEM const unsigned char WINDOW_OPEN_ICON_BITS[] = {
  0x07, 0x00, 0x00, 0x0E, 0x1F, 0x00, 0x80, 0x0F, 0x79, 0x00, 0xE0, 0x09, 
  0xE1, 0xFF, 0x7F, 0x08, 0x81, 0xFF, 0x1F, 0x08, 0x81, 0x01, 0x18, 0x08, 
  0x81, 0x01, 0x18, 0x08, 0x81, 0x01, 0x18, 0x08, 0x81, 0x01, 0x18, 0x08, 
  0x81, 0x01, 0x18, 0x08, 0x81, 0x01, 0x18, 0x08, 0x81, 0x01, 0x18, 0x08, 
  0xFF, 0x01, 0xF8, 0x0F, 0xFF, 0x01, 0xF8, 0x0F, 0x81, 0x01, 0x18, 0x08, 
  0x81, 0x01, 0x18, 0x08, 0x81, 0x01, 0x18, 0x08, 0x81, 0x01, 0x18, 0x08, 
  0x81, 0x01, 0x18, 0x08, 0x81, 0x01, 0x18, 0x08, 0x81, 0xFF, 0x1F, 0x08, 
  0xE1, 0xFF, 0x7F, 0x08, 0x79, 0x00, 0xE0, 0x09, 0x1F, 0x00, 0x80, 0x0F, 
  0x07, 0x00, 0x00, 0x0E, };


#define WINDOW_CLOSED_ICON_WIDTH 28
#define WINDOW_CLOSED_ICON_HEIGHT 25
PROGMEM const unsigned char WINDOW_CLOSED_ICON_BITS[] = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0xC0, 0xFF, 0x1F, 0x00, 0xC0, 0xFF, 0x1F, 0x00, 0xC0, 0x20, 0x18, 0x00, 
  0xC0, 0x20, 0x18, 0x00, 0xC0, 0x20, 0x18, 0x00, 0xC0, 0x20, 0x18, 0x00, 
  0xC0, 0x20, 0x18, 0x00, 0xC0, 0x20, 0x18, 0x00, 0xC0, 0x20, 0x18, 0x00, 
  0xC0, 0xFF, 0x1F, 0x00, 0xC0, 0x20, 0x18, 0x00, 0xC0, 0x20, 0x18, 0x00, 
  0xC0, 0x20, 0x18, 0x00, 0xC0, 0x20, 0x18, 0x00, 0xC0, 0x20, 0x18, 0x00, 
  0xC0, 0x20, 0x18, 0x00, 0xC0, 0x20, 0x18, 0x00, 0xC0, 0xFF, 0x1F, 0x00, 
  0xC0, 0xFF, 0x1F, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, };


#define SUN_ICON_1_WIDTH 25
#define SUN_ICON_1_HEIGHT 26
PROGMEM const unsigned char SUN_ICON_1_BITS[] =  {
  0x00, 0x18, 0x00, 0x00, 0x60, 0x18, 0x0C, 0x00, 0xE0, 0x18, 0x0E, 0x00, 
  0xC0, 0x18, 0x06, 0x00, 0x80, 0x19, 0x03, 0x00, 0x86, 0x01, 0xC3, 0x00, 
  0x0E, 0x00, 0xE0, 0x00, 0x1C, 0x7E, 0x70, 0x00, 0x38, 0xFF, 0x38, 0x00, 
  0x80, 0xC3, 0x01, 0x00, 0xC0, 0x81, 0x03, 0x00, 0xC0, 0x00, 0x03, 0x00, 
  0xCF, 0x00, 0xF3, 0x01, 0xCF, 0x00, 0xF3, 0x01, 0xC0, 0x00, 0x03, 0x00, 
  0xC0, 0x81, 0x03, 0x00, 0x80, 0xC3, 0x01, 0x00, 0x38, 0xFF, 0x38, 0x00, 
  0x1C, 0x7E, 0x70, 0x00, 0x0E, 0x00, 0xE0, 0x00, 0x86, 0x01, 0xC3, 0x00, 
  0x80, 0x19, 0x03, 0x00, 0xC0, 0x18, 0x06, 0x00, 0xE0, 0x18, 0x0E, 0x00, 
  0x60, 0x18, 0x0C, 0x00, 0x00, 0x18, 0x00, 0x00, };


#define SUN_ICON_2_WIDTH 25
#define SUN_ICON_2_HEIGHT 26
PROGMEM const unsigned char SUN_ICON_2_BITS[] = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 
  0x00, 0x18, 0x00, 0x00, 0x0C, 0x18, 0x30, 0x00, 0x1C, 0x00, 0x38, 0x00, 
  0x38, 0x00, 0x1C, 0x00, 0x20, 0x7E, 0x04, 0x00, 0x00, 0xFF, 0x00, 0x00, 
  0x80, 0xC3, 0x01, 0x00, 0xC0, 0x81, 0x03, 0x00, 0xC0, 0x00, 0x03, 0x00, 
  0xCF, 0x00, 0xF3, 0x00, 0xCF, 0x00, 0xF3, 0x00, 0xC0, 0x00, 0x03, 0x00, 
  0xC0, 0x81, 0x03, 0x00, 0x80, 0xC3, 0x01, 0x00, 0x00, 0xFF, 0x00, 0x00, 
  0x20, 0x7E, 0x04, 0x00, 0x38, 0x00, 0x1C, 0x00, 0x1C, 0x00, 0x38, 0x00, 
  0x0C, 0x18, 0x30, 0x00, 0x00, 0x18, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 
  0x00, 0x18, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, };


#define SUN_ICON_3_WIDTH 25
#define SUN_ICON_3_HEIGHT 26
PROGMEM const unsigned char SUN_ICON_3_BITS[] = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 
  0x00, 0x18, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x18, 0x00, 0x18, 0x00, 
  0x38, 0x00, 0x1C, 0x00, 0x20, 0x7E, 0x04, 0x00, 0x00, 0xFF, 0x00, 0x00, 
  0x80, 0xC3, 0x01, 0x00, 0xC0, 0x81, 0x03, 0x00, 0xC0, 0x00, 0x03, 0x00, 
  0xCE, 0x00, 0x33, 0x00, 0xCC, 0x00, 0x73, 0x00, 0xC0, 0x00, 0x03, 0x00, 
  0xC0, 0x81, 0x03, 0x00, 0x80, 0xC3, 0x01, 0x00, 0x00, 0xFF, 0x00, 0x00, 
  0x20, 0x7E, 0x04, 0x00, 0x38, 0x00, 0x1C, 0x00, 0x18, 0x00, 0x18, 0x00, 
  0x00, 0x18, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x00, 0x08, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, };


#define SUN_ICON_4_WIDTH 25
#define SUN_ICON_4_HEIGHT 26
PROGMEM const unsigned char SUN_ICON_4_BITS[] = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 
  0x00, 0x18, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0x18, 0x00, 0x18, 0x00, 
  0x38, 0x00, 0x1C, 0x00, 0x20, 0x7E, 0x04, 0x00, 0x00, 0xFF, 0x00, 0x00, 
  0x80, 0xC3, 0x01, 0x00, 0xC0, 0x81, 0x03, 0x00, 0xC0, 0x00, 0x03, 0x00, 
  0xCE, 0x00, 0x33, 0x00, 0xCC, 0x00, 0x73, 0x00, 0xC0, 0x00, 0x03, 0x00, 
  0xC0, 0xC1, 0x1F, 0x00, 0x80, 0xE3, 0x3F, 0x00, 0x00, 0xFF, 0xF0, 0x00, 
  0x20, 0x7E, 0xE0, 0x01, 0x38, 0x07, 0x80, 0x01, 0x18, 0x03, 0x00, 0x01, 
  0x00, 0x03, 0x00, 0x01, 0x00, 0x07, 0x00, 0x01, 0x00, 0x3E, 0xC0, 0x01, 
  0x00, 0xF8, 0xFF, 0x01, 0x00, 0xE0, 0xFF, 0x00, };


#define SUN_ICON_5_WIDTH 25
#define SUN_ICON_5_HEIGHT 26
PROGMEM const unsigned char SUN_ICON_5_BITS[] = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 
  0x00, 0x18, 0x00, 0x00, 0x00, 0x18, 0x00, 0x00, 0xF0, 0x00, 0x18, 0x00, 
  0xF8, 0x03, 0x1C, 0x00, 0x3E, 0x7F, 0x04, 0x00, 0x1F, 0xFE, 0x00, 0x00, 
  0x03, 0x98, 0x01, 0x00, 0x01, 0xB8, 0x03, 0x00, 0x01, 0x70, 0x03, 0x00, 
  0x01, 0x60, 0x33, 0x00, 0x0F, 0x3F, 0x73, 0x00, 0xFE, 0x03, 0x03, 0x00, 
  0xFC, 0xC1, 0x1F, 0x00, 0x80, 0xE3, 0x3F, 0x00, 0x00, 0xFF, 0xF0, 0x00, 
  0x20, 0x7E, 0xE0, 0x01, 0x38, 0x07, 0x80, 0x01, 0x18, 0x03, 0x00, 0x01, 
  0x00, 0x03, 0x00, 0x01, 0x00, 0x07, 0x00, 0x01, 0x00, 0x3E, 0xC0, 0x01, 
  0x00, 0xF8, 0xFF, 0x01, 0x00, 0xE0, 0xFF, 0x00, };


#define SUN_ICON_6_WIDTH 25
#define SUN_ICON_6_HEIGHT 26
PROGMEM const unsigned char SUN_ICON_6_BITS[] = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0xFC, 0x00, 0x00, 0x00, 0xFF, 0x01, 0x00, 
  0x80, 0xFF, 0x03, 0x00, 0xC0, 0x0F, 0x02, 0x00, 0xC0, 0x07, 0x00, 0x00, 
  0xE0, 0x03, 0x00, 0x00, 0xE0, 0x03, 0x00, 0x00, 0xE0, 0x03, 0x00, 0x00, 
  0xE0, 0x03, 0x00, 0x00, 0xC0, 0x07, 0x00, 0x00, 0xC0, 0x0F, 0x02, 0x00, 
  0x80, 0xFF, 0x01, 0x00, 0x00, 0xFF, 0x00, 0x00, 0x00, 0x7C, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, };
#endif